extends ../../../system/views/admin/layout/admin

block appendcss
  link(rel='stylesheet', href='/public/files/vendor/jquery-ui/themes/base/all.css')
  link(rel='stylesheet', href='/public/system/admin/index.css')
  link(rel='stylesheet', href='/public/pages/admin/index.css')

block content
  h1.page-header
    | Pages: 
    span(style="color: #666") Create
    div.row.placeholders
  form#createPage.col-sm-8(method="POST", action="/api/pages", autocomplete="off")
  
    h2 Headers
    .form-group
      label(for="inputTitle") Title
      input#inputTitle.form-control(type="text", name="title", value="", placeholder="Title (max 32 characters)", maxlength="32")
    .form-group
      label(for="inputComment") Comment 
      input#inputComment.form-control(type="text", name="comment", value="", placeholder="Comment (max 64 characters)", maxlength="64")
      
    div.row.placeholders
    
    h2 Blocks
    #pageBlocks
    .btn-group
      button.btn.btn-info.dropdown-toggle(type="button", data-toggle="dropdown", aria-expanded="false")
        | Add 
        span.caret
      ul.dropdown-menu(role="menu")
        li
          a#addTextBlock(href="#add-text") Text
        li
          a#addImageBlock(href="#add-image") Image
        li
          a(href="#add-gallery") Gallery
      
    div.row.placeholders
      
    input(type="hidden", name="_csrf", value="#{csrfToken}")
    a.btn.btn-default(href="/admin/pages", style="margin-right: 5px;") Cancel
    button#createPageBtn.btn.btn-success(type="submit") Create
    br
    br
    div#createPageError(class="alert alert-danger hidden", role="alert")
      b
        |	Ops! 
      span.message
        | No Errors

block appendjs
  script.
    window.urlreload = false;
    $(function() {
      $pageBlocks = $('#pageBlocks');
      $pageBlocks.sortable();
      $pageBlocks.disableSelection();
    });
  script(src="/public/files/vendor/jquery-ui/jquery-ui.min.js")
  script(src="/public/pages/admin/index.js")
